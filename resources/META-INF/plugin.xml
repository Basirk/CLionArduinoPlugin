<?xml version="1.0" encoding="UTF-8"?>
<idea-plugin>
    <id>com.vladsch.clionarduinoplugin</id>
    <name>Arduino Support</name>
    <vendor email="" url="https://github.com/vsch/CLionArduinoPlugin">Vladimir Schneider</vendor>

    <!-- please see https://confluence.jetbrains.com/display/IDEADEV/Build+Number+Ranges for description -->
    <idea-version since-build="181"/>

    <!-- please see https://confluence.jetbrains.com/display/IDEADEV/Plugin+Compatibility+with+IntelliJ+Platform+Products
         on how to target different products -->
    <depends>com.intellij.modules.clion</depends>

    <version>1.3.9</version>
    <description><![CDATA[
        <p><img src="https://github.com/vsch/CLionArduinoPlugin/raw/master/resources/META-INF/pluginIcon.png" alt="pluginIcon.png" width="50" align="middle" />
            Integrates <a href="https://github.com/francoiscampbell/arduino-cmake">Arduino CMake</a> into the CLion IDE.</p>
        <ul>
            <li>
                <p>Adds <code>Arduino Sketch</code> and <code>Arduino Library</code> project types to new project wizard</p>
                <p>Options to select board type, cpu, programmer and port</p>
            </li>
            <li>
                <p>Adds New File Action: <code>New Arduino Sketch</code></p>
            </li>
            <li>
                <p>Adds Serial Monitor toolwindow with monitor disconnect on build and reconnect after build to
                    allow seamless build, upload, monitor cycle.</p>
            </li>
        </ul>
        <p>| <a href="https://github.com/vsch/CLionArduinoPlugin/issues">Issues</a> | <a href="https://github.com/vsch/CLionArduinoPlugin">Plugin Source</a> |</p>
        <p><br></p>
        <p><img src="https://github.com/vsch/CLionArduinoPlugin/raw/master/assets/images/Screenshot_NewProject.png" alt="Screenshot_NewProject.png" /></p>
        <p><br></p>
        <p><strong>*</strong> This plugin is a fork of <a href="https://github.com/rjuang/CLionArduinoPlugin">rjuang/CLionArduinoPlugin</a> which in turn is a fork of
            <a href="https://github.com/francoiscampbell/CLionArduinoPlugin">Original CLionArduinoPlugin</a> written by Francois Campbell.</p>
        ]]></description>

    <change-notes><![CDATA[
        <h3>1.3.9</h3>
        <ul>
            <li>Add: <code>#ifdef/#define/#endif</code> to library include file</li>
            <li>Fix: arduino library to add additional library path to <code>CMakeList.txt</code></li>
            <li>Fix: change arduino library test file to a sketch from cpp</li>
            <li>Add: <code>User_Setup.h</code> to sketch project</li>
            <li>Fix: <code>#endif</code> add comment before trailing text</li>
            <li>Fix: exception if new arduino sketch is invoked from non-editor environment</li>
            <li>Add: Serial Monitor tool window with auto disconnect on build/reconnect after build. No hex
                view yet.</li>
        </ul>
        <h3>1.3.8</h3>
        <ul>
            <li>Add: skeleton <code>keywords.txt</code> and <code>library.properties</code> files when creating arduino project.</li>
            <li>Add: options for arduino library project:
                <ul>
                    <li>Add: library test cpp file</li>
                    <li>Add: options for <code>library.properties</code>
                        <ul>
                            <li>Add: library category dropdown.<br />
                                <img src="file:///Users/vlad/src/projects/CLionArduinoPlugin/assets/images/Screenshot_Categories.png" alt="Screenshot_Categories" class="local-only" title=" **Link will only resolve locally.**" /></li>
                            <li>Add: author name and e-mail</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>Fix: language standard missing option if none was previously selected or persisted option was
                empty.</li>
        </ul>
        <h3>1.3.6</h3>
        <ul>
            <li>Fix: CPU selection line in <code>CMakeLists.txt</code> would be commented out if a new board is selected
                and the CPU was left as default.</li>
            <li>Add: static library changes to <code>CMakeLists.txt</code>, using <code>generate_arduino_library()</code></li>
        </ul>
        <h3>1.3.4</h3>
        <ul>
            <li>Fix: change plugin name for JetBrains requirements</li>
            <li>Fix: reload CMakeLists.txt after project creation otherwise generated files don&rsquo;t have the
                <code>-mmcu</code> set.</li>
            <li>Fix: add port drop down using jssc <a href="https://github.com/scream3r/java-simple-serial-connector">https://github.com/scream3r/java-simple-serial-connector</a>,
                with <code>SerialPorts</code> Patched for Arduino by Cristian Maglie
                <a href="https://raw.githubusercontent.com/arduino/Arduino/master/arduino-core/src/processing/app/SerialPortList.java">https://raw.githubusercontent.com/arduino/Arduino/master/arduino-core/src/processing/app/SerialPortList.java</a></li>
            <li>Fix: change source packages to match plugin id.</li>
        </ul>
        <h3>1.3.2</h3>
        <ul>
            <li>Fix: no cpus showing up until board selection is changed</li>
            <li>Fix: add library sub-directory would be set on form opening.</li>
        </ul>
        <h3>1.3.0</h3>
        <ul>
            <li>Fix: add project types to <code>New Project</code> wizard, only compatible with 2018.3 and above.</li>
            <li>Fix: remove arduino new project action</li>
            <li>Add: arduino library. Adds .cpp and .h file named as project directory,</li>
            <li>Add: boards project option and cpu option (from boards.txt stored in resources). TODO: add
                config for boards.txt path</li>
            <li>Add: programmers (from boards.txt stored in resources). TODO: add config for boards.txt path</li>
            <li>Add: Port option, for now manually set. TODO: add code to scan available ports</li>
            <li>Add: verbose build option</li>
            <li>Add: local library directory option</li>
            <li>Add: icons for sketch file, library and project</li>
            <li>Add: persistence of project creation options, last cpu per board is saved.</li>
        </ul>
        <h3>1.2.4</h3>
        <ul>
            <li>Fix: exceptions when run on CLion 2018.3</li>
            <li>Add: <code>CMakeList.txt</code> reloading on creation (for 2018 or above)</li>
            <li>Add: comments to CMakeList.txt to help startup with non-mega boards</li>
            <li>Fix: change directory layout and plugin.xml to be more compatible with IntelliJ plugins for
                error checking.
            </li>
            <li>Add: IntelliJ project files to git</li>
        </ul>
        ]]>
    </change-notes>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Add your extensions here -->
        <directoryProjectGenerator implementation="com.vladsch.clionarduinoplugin.generators.ArduinoSketchProjectGenerator"/>
        <directoryProjectGenerator implementation="com.vladsch.clionarduinoplugin.generators.ArduinoSketchLibraryGenerator"/>
        <!--<projectService serviceImplementation="ArduinoProjectSettingsService"/>-->
        <applicationService serviceInterface="com.vladsch.clionarduinoplugin.components.ArduinoApplicationSettingsService"
                            serviceImplementation="com.vladsch.clionarduinoplugin.components.ArduinoApplicationSettingsService"/>

        <projectConfigurable id="com.vladsch.clionarduinoplugin.components.ProjectConfigurable"
                             groupId="tools"
                             bundle="com.vladsch.clionarduinoplugin.localization.strings"
                             key="plugin.name"
                             nonDefaultProject="false"
                             instance="com.vladsch.clionarduinoplugin.components.ProjectConfigurable"/>
    </extensions>

    <application-components>
        <!-- Add your application components here -->
        <component>
            <implementation-class>com.vladsch.clionarduinoplugin.components.ArduinoFileTypeRegistration</implementation-class>
        </component>
        <component>
            <implementation-class>com.vladsch.clionarduinoplugin.serial.SerialPortManager</implementation-class>
        </component>
    </application-components>

    <project-components>
        <!-- Add your project components here -->
        <component>
            <implementation-class>com.vladsch.clionarduinoplugin.serial.SerialProjectComponent</implementation-class>
        </component>
        <component>
            <implementation-class>com.vladsch.clionarduinoplugin.components.ArduinoProjectSettings</implementation-class>
        </component>
    </project-components>

    <actions>
        <!-- Add your actions here -->
        <action id="com.vladsch.clionarduinoplugin.actions.NewSketchFile"
                class="com.vladsch.clionarduinoplugin.actions.NewSketchFile"
                text="Arduino Sketch" description="New Arduino Sketch File"
                icon="PluginIcons.arduino_sketch">
            <add-to-group group-id="NewGroup" anchor="first"/>
        </action>
    </actions>
</idea-plugin>
